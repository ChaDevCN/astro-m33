<script type="module">
  const initSwiper = () => {
    const swiperBanner = new Swiper("#swiper-banner", {
      loop: true,
      autoplay: {
        disableOnInteraction: false,
      },
      pagination: {
        el: ".swiper-banner-pagination",
      },
      navigation: {
        nextEl: ".swiper-banner-next",
        prevEl: ".swiper-banner-prev",
      },
    });
    const swiperbatch = new Swiper("#swiper-batch", {
      direction: "vertical",
      loop: true,
      slidesPerView: 2,
      spaceBetween: 40,
      mousewheel: true,
    });
  };

  const mdthumbswiper = new Swiper("#products-min-swiper", {
    spaceBetween: 10,
    slidesPerView: "auto",
    autoHeight: true,
    direction: "vertical",
    freeMode: true,
    watchSlidesProgress: true,
  });
  const productsSwiper = new Swiper("#products-swiper", {
    allowTouchMove: false,
    thumbs: {
      swiper: mdthumbswiper,
    },
    scrollbar: {
      el: ".mdthumb-swiper-scrollbar",
    },
    navigation: {
      nextEl: ".swiper-md-next",
      prevEl: ".swiper-md-prev",
    },
  });

  window.addEventListener("astro:after-swap", () => {
    initSwiper();
  });
  window.onpageshow = initSwiper;
</script>
