<script type='module'>
  const initSwiper = () => {
    new Swiper('#swiper-banner', {
      loop: true,
      autoplay: {
        disableOnInteraction: false
      },
      pagination: {
        el: '.swiper-banner-pagination'
      },
      navigation: {
        nextEl: '.swiper-banner-next',
        prevEl: '.swiper-banner-prev'
      }
    })
    new Swiper('#swiper-batch', {
      direction: 'vertical',
      loop: true,
      slidesPerView: 2,
      spaceBetween: 40,
      mousewheel: true
    })
  }

  const mdthumbswiper = new Swiper('#products-min-swiper', {
    spaceBetween: 10,
    slidesPerView: 'auto',
    autoHeight: true,
    direction: 'vertical',
    freeMode: true,
    watchSlidesProgress: true
  })
  new Swiper('#products-swiper', {
    allowTouchMove: false,
    thumbs: {
      swiper: mdthumbswiper
    },
    scrollbar: {
      el: '.mdthumb-swiper-scrollbar'
    },
    navigation: {
      nextEl: '.swiper-md-next',
      prevEl: '.swiper-md-prev'
    }
  })
  new Swiper('#swiper-contact', {
    navigation: {
      nextEl: '.swiper-contact-next',
      prevEl: '.swiper-contact-prev'
    }
  })

  window.addEventListener('astro:after-swap', () => {
    initSwiper()
  })
  window.onpageshow = initSwiper
</script>
